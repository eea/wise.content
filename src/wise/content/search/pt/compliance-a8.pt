<div class="row">
  <div class="col-md-12">
    <h4>Article 8: Initial assessment - 2012</h4>
    <table class="table table-bordered">
      <tr>
        <td>Article reported</td>
        <td tal:attributes="colspan view/colspan">
          Article 8: Determination of GES (and Art. 17 updates)
        </td>
      </tr>
      <tr>
        <td>Source file of Member State</td>
        <td tal:attributes="colspan view/colspan"
           tal:define="source_file string:http://cdr.eionet.europa.eu/lv/eu/msfd8910/ballv/envuxvsq/MSFD9GES_20130430_215711.xml/manage_document">
          <a tal:attributes="href source_file"
           tal:content="source_file"/>
        </td>
      </tr>
      <tr>
        <td>Assessors</td>
        <td tal:attributes="colspan view/colspan"
           tal:content="string:SM Body (Consultancy W); AN Other (Consultancy Y)"/>
      </tr>
      <tr>
        <td>Date report due</td>
        <td tal:attributes="colspan view/colspan"
           tal:content="string:2012-10-15"/>
      </tr>
      <tr>
        <td>Date reported by Member State</td>
        <td tal:attributes="colspan view/colspan"
           tal:content="string:2013-04-30"/>
      </tr>
      <tr>
        <td>Date assessed</td>
        <td tal:attributes="colspan view/colspan"
           tal:content="string:2014-02-07"/>
      </tr>
    </table>
  </div>
</div>

<div class="row">
  <div class="col-md-12">
    <h5>2012 Member State Report</h5>
    <table tal:repeat="muid view/muids" class="table table-bordered">
    <tal:block tal:define="art8data python: view.get_data_reported(muid, view.descriptor);
            art8_crit_indics python: view.get_art8_crit_indics(art8data, view.criterion_labels);">

      <h6>Article 8 criterions/id_indicators (art8_crit_indics)</h6>
      <div tal:replace="art8_crit_indics"></div>

      <tr>
        <th>MarineUnitID</th>
        <td tal:attributes="colspan python: view.get_art8_col_span(art8_crit_indics)"
            tal:content="muid">DE_ANS</td>
      </tr>
      <tr tal:define="col_name string:Topic;">
        <th>Analysis</th>
        <metal:row define-macro="print_value">
          <tal:block tal:repeat="crit python: art8_crit_indics.keys()">
          <tal:block tal:repeat="row_index python:art8_crit_indics[crit]">
          <td tal:define="column_index python: view.art8_columns.index(col_name);
              print_val python: art8data[row_index][column_index] if row_index!='' else '';"
              tal:content="print_val">Error</td>
          </tal:block>
          </tal:block>
        </metal:row>
      </tr>
      <tr>
        <th>[Element]</th>
        <td>Not implemented</td>
      </tr>

      <tr>
        <th>CriteriaType [GESComponent]</th>
        <tal:block tal:repeat="crit python: view.crit_lab_indics.keys()">
        <td tal:attributes="colspan python: len(view.crit_lab_indics[crit])"
            tal:content="python: view.criterion_labels[crit]"/>
        </tal:block>
      </tr>

      <tr>
        <th>[Parameter]</th>
        <td>Not implemented</td>
      </tr>

      <tr tal:define="col_name string:ThresholdValue;">
        <th>Threshold Value</th>
        <metal:macro use-macro="template/macros/print_value"/>
      </tr>

      <tr tal:define="col_name string:ThresholdValueUnit">
        <th>SumInfo1Unit/ThresholdValueUnit [ValueUnit]</th>
        <metal:macro use-macro="template/macros/print_value"/>
      </tr>

      <tr>
        <th>[ProportionThresholdValue]</th>
        <td>Not implemented</td>
      </tr>

      <tr tal:define="col_name string:SumInfo1">
        <th>PressureLevelN/P/
          Oconcentration/
          ImpactsPressureWater/
          Seabed: SumInfo1
          [ProportionValueAchieved]</th>
        <metal:macro use-macro="template/macros/print_value"/>
      </tr>

      <!-- TODO not sure which column to show here-->
      <!-- SumInfo1Confidence, StatusConfidence -->
      <tr tal:define="col_name string:SumInfo1Confidence">
        <th>PressureLevelN/P/
          OConcentration/
          ImpactsPressureWater/
          Seabed: SumInfo1Confidence</th>
        <metal:macro use-macro="template/macros/print_value"/>
      </tr>

      <tr tal:define="col_name string:TrendsRecent">
        <th>PressureLevelN/P/
          OConcentration/
          ImpactsPressureWater/
          Seabed: TrendRecent</th>
        <metal:macro use-macro="template/macros/print_value"/>
      </tr>

      <tr tal:define="col_name string:TrendsFuture">
        <th>PressureLevelN/P/
          OConcentration/
          ImpactsPressureWater/
          Seabed: TrendFuture</th>
        <metal:macro use-macro="template/macros/print_value"/>
      </tr>

      <tr tal:define="col_name string:Description">
        <th>PressureLevelN/P/
          Oconcentration/
          ImpactsPressureWater/
          Seabed: Description
          [Parameter]</th>
        <metal:macro use-macro="template/macros/print_value"/>
      </tr>

      <tr tal:define="col_name string:SumInfo2">
        <th>ImpactsPressureWater/
          Seabed: SumInfo2</th>
        <td>Not implemented (MSFD8b_Nutrients_SumInfo2_ImpactedElements table)</td>
        <!--<metal:macro use-macro="template/macros/print_value"/>-->
      </tr>

      <tr tal:define="col_name string:GESIndicators">
        <th>Indicator
          [RelatedIndicator]</th>
        <metal:macro use-macro="template/macros/print_value"/>
      </tr>

      <tr tal:define="col_name string:Status">
        <th>Status
          [CriteriaStatus]</th>
        <metal:macro use-macro="template/macros/print_value"/>
      </tr>

      <tr tal:define="col_name string:StatusTrend">
        <th>StatusTrend</th>
        <metal:macro use-macro="template/macros/print_value"/>
      </tr>

      <!-- TODO not sure which column to show here-->
      <!-- SumInfo1Confidence, StatusConfidence -->
      <tr tal:define="col_name string:StatusConfidence">
        <th>StatusConfidence</th>
        <metal:macro use-macro="template/macros/print_value"/>
      </tr>

      <tr tal:define="col_name string:StatusDescription">
        <th>StatusDescription
          [DescriptionCriteria]</th>
        <metal:macro use-macro="template/macros/print_value"/>
      </tr>

      <tr tal:define="col_name string:Limitations">
        <th>Limitations
          (DesciptionElement)</th>
        <metal:macro use-macro="template/macros/print_value"/>
      </tr>

      <tr tal:define="col_name_start string:RecentTimeStart;
          col_name_end string:RecentTimeEnd">
        <th>RecentTimeStart/
          RecentTimeEnd/
          AssessmentDateStart/
          AssessmentDateEnd
          [AssessmentPeriod</th>
        <tal:block tal:repeat="crit python: art8_crit_indics.keys()">
        <tal:block tal:repeat="row_index python:art8_crit_indics[crit]">
        <td tal:define="column_index_start python: view.art8_columns.index(col_name_start);
            column_index_end python: view.art8_columns.index(col_name_end);
            start_val python: art8data[row_index][column_index_start] if row_index!='' else '';
            end_val python: art8data[row_index][column_index_end] if row_index!='' else '';"
            tal:content="python: '{} - {}'.format(start_val, end_val)">Error</td>
        </tal:block>
        </tal:block>
      </tr>

      <tr tal:define="col_name string:Limitations">
        <th>LevelPressureOverall:
          Description</th>
        <metal:macro use-macro="template/macros/print_value"/>
      </tr>

    </tal:block>
    </table>
  </div>
</div>
