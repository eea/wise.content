<div
  tal:define="data options/extra_data | view/get_extra_data"
  class="extra-details">
  <tal:block tal:repeat="info data" >
    <tal:section
      define="section_title python: info[0];
      section python: info[1];
      istab python: 'tab-pane fade' if(len(section) > 1) else ''
      ">
      <h4 tal:content="section_title">Section title</h4>

      <div class="tabs-wrapper" >
        <ul
          class="nav nav-tabs"
          id="tabs2"
          role="tablist"
          tal:condition="python: len(section) > 1" >
          <tal:block tal:repeat="tab_title section">
            <li class="nav-item">
              <a class="nav-link"
                tal:define="utitle python: tab_title or section_title"
                tal:attributes="
                title utitle;
                id python:view.title_as_id(utitle) + '-tab';
                href python:'#' + view.title_as_id(utitle);
                aria-controls python:utitle.replace(' ', '_').lower()"
                data-toggle="tab"
                role="tab"
                aria-selected="true"
                tal:content="python: view.print_value(utitle)"
                >Section title here</a>
            </li>
          </tal:block>
        </ul>

        <div class="tab-content">
          <tal:sec tal:repeat="tab_title section">

            <div
              tal:define="utitle python:tab_title or section_title;"
              tal:attributes="
              class istab;
              id python: view.title_as_id(utitle);"
              role="tabpanel"
              >

              <tal:def define="section_data python:section[tab_title]">
                <table class="listing" tal:condition="section_data">
                  <thead>
                    <tr tal:define="row_labels python:section_data[0].keys()">
                      <th tal:repeat="l row_labels"
                        tal:content="python:view.name_as_title(l)">Label</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr tal:repeat="row section_data" >
                      <td tal:repeat="v row/values"
                        tal:content="structure python: view.print_value(v)">Value</td>
                    </tr>
                  </tbody>
                </table>
              </tal:def>
            </div>

          </tal:sec>

        </div>
      </div>

    </tal:section>
  </tal:block>
</div>
